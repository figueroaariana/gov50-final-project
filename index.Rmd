---
title: "Gov 50 Final Project"
author: "Ariana Figueroa"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---


## Project thoughts and Ideas

I am interested in exploring data related to food deserts in urban areas and with a predominantly low-income population. I think that the data I find will most likely reflect that low-income communities have more fast food places compared to fresh food markets.

```{r, include= FALSE}
library(tidyverse)
library(readxl)
library(dplyr)
food_access <- read_excel("~/GOV 50/PSETS/gov50-final-project/FoodAccessResearchAtlasData2019.xlsx", 
                          sheet = 3, 
                          na = c("", "NA", "NULL")) |> 
mutate(urban = if_else(Urban == 1, "Urban", "Rural"))
food_access

```

## Milestone 2

Are low-income communities in California more susceptible to food deserts? In this study, I plan to examine and compare how low-income communities are affected by food deserts and their proximity to food markets and ability to access fresh food. I plan to do a comparative analysis between middle class and lower-income communities to assess the differences in proximity to supermarkets. I hypothesize that communities that are wealthier likely have higher access to fresh foods, therefore less susceptible to food deserts. I base this hypothesis on the fact that inner city/urban communities lack the spaces for supermarkets and there has been data exploring the reason why supermarkets are so hard to access in urban areas where there are more people of color and low-income people living in these spaces. My unit of analysis interest will be income (in California Counties), race, and proximity to supermarkets. The explanatory variable of interest is whether there are disparities in proximity to supermarkets between races and income. For example, if the variable income were to be coded, high income would be coded with == 1 and low income would be == 0. I would do this using the "if_else" function in the data set. This variable is measured from the Gov Data website data set of Food Access in counties across the US. The outcome variable of interest (dependent variable) is the amount of supermarkets in the area which in theory depend on the location/income demographic of the place where they are built and how likely people are able to access fresh food.If I observe that those counties that are considered to be more high-income have more supermarkets with closer proximity than low-income communities, my hypothesis will be supported. If the data happens to show no disparities between both incomes and the proximity and amount of supermarkets by mile, then my hypothesis will disproved. 


## Milestone 3

```{r, echo = FALSE}
califonia_counties <- food_access |>  
  filter(State == "California") |>
    select(- c(lakidshalf:laomultirhalfshare,
            lakids20:laomultir20share,
            lakids1:lapop10share,
            lahunv20:lasnap20share,
            TractKids:TractSNAP)) |>
  mutate(urban = if_else(Urban == 1, "Urban", "Rural"))
  
food_access$lahisphalf <- as.numeric(as.character(food_access$lahisphalf))

califonia_counties

```


```{r, echo = FALSE}
california_counties <- food_access|>
  filter(State == "California")

california_counties$MedianFamilyIncome <- as.numeric(as.character(california_counties$MedianFamilyIncome))
california_counties$LALOWI05_10 <- as.numeric(as.character(california_counties$LALOWI05_10)) 


california_counties <- california_counties |>
  group_by(County) |>
  summarize(county_pop = sum(Pop2010, na.rm = TRUE),
            county_avg_income = mean(MedianFamilyIncome, na.rm = TRUE),
            avg_pop_fd = mean(LALOWI05_10, na.rm = TRUE),
            hisp_pop = sum(lahisphalf, na.rm = TRUE),
            urban = sum(Urban, na.rm = TRUE),
            med_poverty_rate = median(PovertyRate, na.rm = TRUE)) 

california_counties

```
Out of 1,499,556 people living in Alameda county, the average income is 112,924, a particularly middle class county. However on average, only 429 low income people with low access in the country live within 1/2 a mile in urban spaces and 10 miles in rural areas away from a market.  


```{r, echo = FALSE}
library(ggplot2)
ggplot(data = california_counties,
       mapping = aes(x = county_avg_income,
                     y = avg_pop_fd)) +
  
  geom_point() + 
  labs(
    title = "People Living in Food Deserts",
    x = "Average Income Across Counties",
    y = "Population of People") + geom_smooth()
  

```
The graph shows the relationship between income and food deserts. The Y variable is the low income population count beyond 1/2 mile for urban areas or 10 miles for rural areas from supermarket. This means that approximately an average 1500 people who make about $50,000 a year, are not of close proximity to supermarkets. Of those who are in the higher income bracket, a smaller amount of individuals are far from supermarkets. The line of best fit shows a slightly negative relationship concerning exposure to food deserts and higher income. As people are wealthier, they are less likely to experience living in food deserts.  

## Milestone 4

```{r, echo = FALSE}
counties_urbanization<- california_counties|>
  mutate(urbanization = if_else(urban > 25, "Urban", "Rural" )) |>
  select(-c(urban))
counties_urbanization

try_1<- counties_urbanization |>
  group_by(urbanization) |>
  pivot_wider(
    names_from = urbanization,
    values_from = avg_pop_fd)
try_1

```


## Food Deserts in Urban vs. Rural Counties



```{r}
ggplot(data = counties_urbanization,
       mapping = aes(x = avg_pop_fd, fill = urbanization)) + geom_histogram(position = "identity", alpha = 0.6, bins = 10) + 
  labs(
    title = "Food Deserts in Urban vs. Rural Counties",
    x = "Average Population of People Living in Food Deserts",
    y = "County Count"
  )
```




## Linear Regression

```{r, echo = FALSE}
library(broom)
library(tidyverse)

pov_prox <- lm(avg_pop_fd ~ med_poverty_rate, data = counties_urbanization)|>
  broom::tidy()|>
  select(term, est = estimate, se=std.error, pval=p.value)

knitr::kable(pov_prox, digits=3, col.names= c("Variable", "Coefficient Estimate", "Standard Error", "P-Value"))

coef(pov_prox)
echo = FALSE
```
The regression analysis suggests that there is a relationship between Median Poverty Rate across California counties and the average number of people living in food deserts. For each unit increase in the median poverty rate, the average population living in food deserts, in this case presented as the variable "intercept", increases by 40 people, assuming all other factors remain constant. The Median Poverty Rate per County is significant as it has a P-Value of 0, so the null hypothesis is rejected, meaning that living in poverty does have an impact on whether or not you are more or less likely to live in food deserts.

Answer to Hypothesis:

The linear regression I ran in this milestone allows me to keep exploring the relationship between income and food deserts across counties in California. As expected, both my graph and the linear regression shows poverty rates to be a factor indicating whether or not a population is more susceptible to experiencing food deserts. The data I have so far is interesting as it strengthens my hypothesis, that low income people have less access to supermarkets and fresh foods. However, I am still in the process of finding out how urbanization and ethnicity further impacts the population of people experiencing food deserts. 


